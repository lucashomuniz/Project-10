# ✅ PROJECT-19

ACME S.A. is a personal care company that manufactures and sells products such as shampoo, soap, and toothpaste across the country. Recently, the company has faced shortages in product supply, and one hypothesis suggests that promotional activities are causing significant fluctuations in demand. Since promotions were not considered in the demand planning process, the production units were unprepared to handle the additional volume. Despite this explanation, there is some skepticism, and ACME has decided to bring you, a Data Scientist, on board to provide a data-driven analysis that can lead to a more reliable demand planning process.

This project aims to address three key questions posed by the leadership team, who have limited experience with statistical and machine learning techniques:

1. **What is the average impact of promotions on total sales, and is this impact consistent across all brands and customers?**
2. **Given the approved promotions for the last quarter of 2018, how many tons of products will be sold during this period?**
3. **In the Q4 2018 forecast, how many tons of sales will be driven by promotions versus usual sales behavior?**

To answer these questions, we will analyze sales data to understand the influence of promotions, and employ five different predictive models—Linear Regression, Random Forest, ElasticNet, K-Nearest Neighbors (KNN), and Gradient Boosting Machines (GBM)—to forecast future sales. A comparison of model performance will help identify the most accurate approach, and the results will be used to estimate the proportion of sales attributable to promotions versus regular purchasing patterns. This analysis will help ACME S.A. improve its demand planning and better prepare for future fluctuations in demand caused by promotional activities.

Keywords: Python Language, Data Analysis, Machine Learning, Classification Model, Supervised Learning, Linear Regression, Random Forest, KNN, Elastic Net, GBM, Customer Segmentation, Predictive Modeling.

# ✅ Q1: WHAT IS THE AVERAGE IMPACT OF PROMOTIONS ON TOTAL SALES? IS THIS IMPACT GENERALIZED FOR ALL BRANDS AND CUSTOMERS?

My analysis began with a broad evaluation of the sales dataset, focusing on how promotional periods influenced sales behavior over time. By comparing key variables such as sales volume, invoice dates, and the duration of promotional events, I identified patterns in the relationship between promotions and sales activity. Notably, I found that all 74,815/380 dates in the Invoice Dataset coincided with promotion periods, highlighting a potential dependency on promotions to drive sales. Following this, I extended the analysis to examine how other factors such as product basecode, customer hierarchy, and promotion codes impacted sales outcomes.

I noticed that there is significant variation in sales volume among different combinations of products and constumers, which may indicate that certain constumers respond better to specific product promotions. For example, for product HU0138, customer HU000105 participated in 822 promotions, resulting in a sales volume of 10,578 tons. Customer HU000106 participated in 1,548 promotions, resulting in an even higher volume of 17,501 tons. Meanwhile, customer HU000109, for the same product, did not participate in any promotions, and the sales volume was significantly lower at just 27 tons. This suggests that the effectiveness of promotions varies greatly between different groups of constumers and products.

During the analysis of this first question, it was observed that the average sales volume during promotions is around 13.50 tons per product-customer combination. In contrast, the average sales volume without promotions was 12.27 tons per combination. This means that, on average, promotions increase sales by approximately 10% compared to what would be sold without them. This shows a moderately positive effect of promotions on sales, suggesting that while there is an increase, it is not drastic.

Finally, it was identified that 97% of the sales volume was generated by combinations that have associated promotions. This indicates that the vast majority of products and customers are being promoted, and that most sales directly depend on these promotions. Only about 3% of the sales volume was generated by combinations without any associated promotions, suggesting that a small portion of the product portfolio or customer base is not influenced by promotions.

# ✅ Q2: CONSIDERING THE APPROVED PROMOTIONS FOR Q4 2018, HOW MANY TONS OF PRODUCTS WILL WE SELL IN Q4 2018?

To answer the question of how many tons of products will be sold in the last quarter of 2018, considering the approved promotions, the process was divided into several steps. First, the approved promotions within the Q4 2018 period were filtered, identifying a total of 4,230 promotions during this period. From these promotions, I mapped the distinct combinations of product and customers, resulting in 615 combinations.

Next, the focus was to find a historical sales record that could be used as a basis for forecasting 2018 sales. For this, I filtered the sales that occurred in the same period of the previous year, Q4 2017. I applied the same product and customer combinations identified for 2018 and found 266 of these combinations also present in the 2017 sales history. The total sales volume for these 266 combinations was 72.864 tons.

With this data, I proceeded to build a predictive model that was trained using historical data from 2017 to help estimate future sales in 2018. Five types of algorithms were analyzed: Linear Regression, Random Forest, ElasticNet, KNN, and GBM. Indicators such as Mean Absolute Error (MAE) and Root Mean Square Error (RMSE) were calculated to measure the performance of each model. In addition, the coefficient of determination (R²) was also calculated, which indicates how well the model captured the variance in the data. With that, the algorithm with the best performance was the Gradient Boosting Machines (GBM).

The model predicted a total of 72,942 tons of products to be sold for Q4 2018. This forecast was achieved with good model performance, with an MAE of 65.55 tons, an RMSE of 100.02 tons, and a coefficient of determination (R²) of 0.5967, indicating that the model was able to explain almost 60% of the data variance. In summary, this process, which involved everything from the analysis of promotions to the application of the predictive model, allowed us to arrive at a reliable estimate of future sales.

![Screenshot 2024-09-13 at 10 40 42](https://github.com/user-attachments/assets/cd80d8e4-b34b-4f64-8238-f732ec1a3c61)

# ✅ Q3: FOR THE Q4 2018 FORECAST, HOW MANY TONS COME FROM PROMOTIONS AND HOW MANY FROM USUAL SALES BEHAVIOR?

To answer the third question, it needs to be build on the analyses and results from the previous questions. So, in the second question, I identified all combinations of products and customers with active promotions in Q4 2018. These combinations were compared to Q4 2017 to train a predictive model that estimated the total sales volume for Q4 2018. The total forecasted volume was 72.942 tons. However, the fact that I analyzed combinations of products and customers with active promotions does not imply that 100% of these sales come from promotions. Even during promotional periods, part of the sales is attributable to the usual sales behavior, meaning the sales that would occur regardless of promotions. The challenge, then, is to separate the sales driven by promotions from those resulting from usual buying behavior.

In the first question, I calculated the average sales with promotions and the average sales without promotions. The difference between these values is 1.24 tons, representing a 10% increase in sales when promotions are active. This percentage value does not indicate the exact fraction of sales that come from promotions but rather the average increase promotions generate in sales, compared to usual behavior. Based on this information, we can divide the total forecasted volume for Q4 2018 into two parts: Usual Behavior, the sales that would occur independently of any promotion, and Additional Sales, the increase in sales due to promotions.

The total sales forecast for Q4 2018 was estimated at 72,942 tons. We know that promotions historically increase sales by 10.09%, as calculated in the first question. Based on this percentage impact, we can separate the Promotions Effect from the Usual Behavior. Applying this average impact, we estimate that sales directly attributed to promotions is approximately 66,263 tons. Subtracting this value from the total sales forecast, we find that 6,679 tons represent the sales volume that would have been generated without promotions. This breakdown provides a clear understanding of how much of the total sales volume is driven by promotions and how much is the result of usual buying behavior.

# ✅ CONCLUSION

This project conducted a detailed analysis of the impact of promotions on sales and developed predictive models to forecast demand for the last quarter of 2018. By using five machine learning algorithms, such as Gradient Boosting Machines (GBM), Random Forest, and ElasticNet, it was possible to compare the performance of each model and accurately predict the number of products sold, considering the effect of promotions and usual sales behavior. This approach provided a better understanding of sales fluctuations caused by promotions, helping the company improve its demand planning process.

To optimize the results of the predictive models, several strategies can be implemented. These include creating new relevant variables through feature engineering, using cross-validation to avoid overfitting, and fine-tuning the model hyperparameters. Additionally, techniques such as model ensembling and data normalization can improve the robustness and accuracy of predictions. These approaches will allow the company to further increase the accuracy of the models, resulting in a more reliable and efficient demand planning process.
